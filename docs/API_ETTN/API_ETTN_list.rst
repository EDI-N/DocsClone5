API
###########

.. hint::
    Всі запити нижче перерахованих API методів сервісу "ЕТТН" направляються на адресу: https://ettn-demo.edi-n.com 

Авторизація
==============

+-----------+-----------------------------+---------------------------------------------------------------------------------------------------+
| **Метод** |       **URL запиту**        |                                             **Опис**                                              |
+===========+=============================+===================================================================================================+
| POST      | ``/api/authorization/hash`` | `Авторизація <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/Authorization.html>`__            |
+-----------+-----------------------------+---------------------------------------------------------------------------------------------------+
| GET       | ``/api/auth_check``         | `Перевірка активності сесії <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/AuthCheck.html>`__ |
+-----------+-----------------------------+---------------------------------------------------------------------------------------------------+

Робота з документами
============================

+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |            **URL запиту**             |                                                                         **Опис**                                                                         |
+===========+=======================================+==========================================================================================================================================================+
| POST      | ``/api/ettn/eds/doc/attachment``      | `Створення вкладення до документа <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/CreateDocAttachment.html>`__                                        |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/attachment``      | `Отримання вкладення документа сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetDocAttachment.html>`__                               |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| DELETE    | ``/api/ettn/eds/doc/attachment``      | `Видалення вкладення документа сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/DelDocAttachment.html>`__                               |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/doc``                 | `Створення/редагування документу сервісу "ETTN" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/CreateDoc.html>`__                                    |
|           |                                       |                                                                                                                                                          |
|           | ``/api/ettn/eds/booking``             |                                                                                                                                                          |
|           |                                       |                                                                                                                                                          |
|           | ``/api/ettn/eds/bookingconfirmation`` |                                                                                                                                                          |
|           |                                       |                                                                                                                                                          |
|           | ``/api/ettn/eds/transhipment``        |                                                                                                                                                          |
|           |                                       |                                                                                                                                                          |
|           | ``/api/ettn/eds/acceptance``          |                                                                                                                                                          |
|           |                                       |                                                                                                                                                          |
|           | ``/api/ettn/eds/discrepancy``         |                                                                                                                                                          |
|           |                                       |                                                                                                                                                          |
|           | ``/api/ettn/eds/completion``          |                                                                                                                                                          |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/doc/from_draft``      | `Створення документу еТТН на основі чернетки, створеної контрагентом <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/CreateFromDraftDocument.html>`__ |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/doc/send``            | `Відправка документа сервісу "ЕТТН" з Чернеток <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/DocSend.html>`__                                       |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/docs``                | `Видалення документів сервісу "ЕТТН" з "Чернеток" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/DelDocs.html>`__                                    |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/doc/clone``           | `Створити копію документа сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/DocClone.html>`__                                            |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc``                 | `Отримання документа сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetDoc.html>`__                                                   |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/chain``               | `Отримання ланцюжка документів сервісу "ЕТТН" по id ланцюжка чи id документа <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetChain.html>`__        |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/body``            | `Отримання тіла документа сервісу "ЕТТН" в json форматі <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetDocBody.html>`__                           |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/signers``         | `Отримання даних підписантів документа сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetSignersInfo.html>`__                         |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/links``           | `Отримання пов'язаних документів сервісу "ETTN" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetLinks.html>`__                                     |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/xml/ticket``      | `Отримання даних документа сервісу "ЕТТН" для підписання <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetTicket.html>`__                           |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/doc/confirm``         | `Підтвердити документ сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/DocConfirm.html>`__                                              |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PUT       | ``/api/ettn/eds/doc/reject``          | `Відмовити в підписанні документа сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/DocReject.html>`__                                   |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/chains/search``       | `Отримання списку ланцюжків документів сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetChainsList.html>`__                          |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/doc/xml``                 | `Отримання документа в вигляді архіву (json + XML + підписані дані) <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetDocArchive.html>`__            |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/docs/search``         | `Отримання списку документів сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetDocList.html>`__                                       |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/doc/xml/sign``        | `Підписання даних сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/SaveSignedData.html>`__                                              |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/chains/archive``      | `Заархівувати всі документи у вказаному ланцюжку <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/ArcChains.html>`__                                   |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/doc/comment``         | `Додати коментар до документа сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/AddComment.html>`__                                      |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/comments``        | `Отримання коментарів до документу сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetComments.html>`__                                |
+-----------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+

Робота з довідниками
============================

+-----------+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |              **URL запиту**              |                                                                                          **Опис**                                                                                          |
+===========+==========================================+============================================================================================================================================================================================+
| POST      | ``/api/oas/v2/exdata``                   | `Отримання даних компанії, співробітників, адрес з довідників сервісу "ЕТТН" <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/ExtraData.html>`__                                         |
+-----------+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/company/search``           | `Отримання даних про компанію за назвою / ІНН / ЄДРПОУ <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/CompanySearch.html>`__                                                           |
+-----------+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/company/employees/search`` | `Отримання даних співробіника компанії за назвою / містом / вулицею / кодом КОАТУУ / номером посвідчення водія <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/EmployeesSearch.html>`__ |
+-----------+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/company/addresses/search`` | `Отримання адреси з довідника компанії за назвою / містом / вулицею / кодом КОАТУУ <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/AddressesSearch.html>`__                             |
+-----------+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/koatuu/search``            | `Отримання данних КОАТУУ за назвою / кодом <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/KoatuuSearch.html>`__                                                                        |
+-----------+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/company``                  | `Отримання даних про компанію по ідентифікатору компанії <https://wiki.edi-n.com/uk/latest/API_ETTN/Methods/GetCompany.html>`__                                                            |
+-----------+------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+





