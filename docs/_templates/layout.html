{% extends '!layout.html' %}


{% block footer %}
    {{ super() }}
    <!-- Return to Top -->
    <a href="javascript:" id="topchik"><i class="icon-chevron-up"></i></a>
    <!-- ICON NEEDS FONT AWESOME FOR CHEVRON UP ICON -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <!-- А це пам"ятник JS-->
    <script>
     $(window).scroll(function() {
        if ($(this).scrollTop() >= 50) {        // If page is scrolled more than 50px
        $('#topchik').fadeIn(200);    // Fade in the arrow
        } else {
        $('#topchik').fadeOut(200);   // Else fade out the arrow
        }
        });
        $('#topchik').click(function() {      // When arrow is clicked
        $('body,html').animate({
        scrollTop : 0                       // Scroll to top of body
        }, 500);
        });
    </script>


    <!-- Да это же onesignal - тоже решили убрать (бесполезен)
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
    <script>
    var OneSignal = window.OneSignal || [];
    OneSignal.push(function() {
        OneSignal.init({
        appId: "7c291f92-d5bd-4792-9f98-545495146fd4",
        });
    });
    </script>   -->
{% endblock %}

    <!-- Костыльная кнопка темной темы  -->
    {% block sidebartitle %}
        {{ super() }}
        {# Add rst-badge after rst-versions for small badge style. #}
        <div class="wy-side-nav-search-new">
        <span class="fa fa-element">
        <input class="container_toggle" type="checkbox" id="switch" name="mode">
        <label for="switch"></label>
        </span>
        </div>
        <!--  js для кнопки темной темы  -->
    <script>
document.addEventListener('DOMContentLoaded', function() {

    function toggleCssMode(isDay) {
        var mode = (isDay ? "Day" : "Night");
        localStorage.setItem("css-mode", mode);

        var daysheet = $('link[href="_static/pygments.css"]')[0].sheet;
        daysheet.disabled = !isDay;

        var nightsheet = $('link[href="_static/dark1.css"]')[0];
        if (!isDay && nightsheet === undefined) {
            var element = document.createElement("link");
            element.setAttribute("rel", "stylesheet");
            element.setAttribute("type", "text/css");
            element.setAttribute("href", "_static/dark1.css");
            document.getElementsByTagName("head")[0].appendChild(element);
            return;
        }
        if (nightsheet !== undefined) {
            nightsheet.sheet.disabled = isDay;
        }
    }

    var initial = localStorage.getItem("css-mode") != "Night";
    var checkbox = document.querySelector('input[name=mode]');

    toggleCssMode(initial);
    checkbox.checked = initial;

    checkbox.addEventListener('change', function() {
        document.documentElement.classList.add('transition');
        window.setTimeout(() => {
            document.documentElement.classList.remove('transition');
        }, 1000)
        toggleCssMode(this.checked);
    })

});
</script>
    {% endblock %}
