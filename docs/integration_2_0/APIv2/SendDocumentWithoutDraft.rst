######################################################################
**Відправка документа (без створення чернетки)**
######################################################################

Для роботи з цим методом користувач повинен бути `авторизованим <https://wiki.edi-n.com/ru/latest/integration_2_0/API/Authorization.html>`__ .

За допомогою цього POST методу **/api/eds/doc/create_and_send** відбувається одночасне створення та відправка документа.

+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                       **Метод запиту**                       |                                                                                  **HTTP PATCH**                                                                                  |
+==============================================================+==================================================================================================================================================================================+
| **Content-Type**                                             | `multipart/form-data <https://tools.ietf.org/html/rfc7578>`__                                                                                                                    |
+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **URL запиту**                                               | https://edo-v2.edi-n.com/api/eds/doc/create_and_send?doc_type=desadv                                                                                                             |
+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Параметри, що передаються в URL (разом з адресою методу)** | У рядку заголовка (Header) "Cookie" обов'язково передається **SID** - токен отриманий при авторизації                                                                            |
|                                                              |                                                                                                                                                                                  |
|                                                              | **Обов'язкові url-параметри:**                                                                                                                                                   |
|                                                              |                                                                                                                                                                                  |
|                                                              | **doc_type** - тип передаваємого документа (ORDERS, DESADV, RECADV, ...);  `XML специфікації електронних документів <https://wiki.edi-n.com/uk/latest/XML/XML-structure.html>`__ |
+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


.. important::
    API метод підтримує тільки **один файл-вкладення** в форматі ``application/json`` и ``application/xml``!

--------------

**Приклади**

--------------

**Приклад тіла запиту в json форматі:**

.. code:: ruby

  POST /api/eds/doc/create_and_send?doc_type=orders HTTP/1.1
  Content-Type: multipart/form-data; boundary=-------------573cf973d5228
  ...else headers...
  ---------------573cf973d5228
  Content-Disposition: form-data; name="file"; filename="file.json"
  Content-Type: application/json
  {Content of JSON file}

--------------

**Приклад тіла запиту в xml форматі:**

.. code:: ruby

  POST /api/eds/doc/create_and_send?doc_type=orders HTTP/1.1
  Content-Type: multipart/form-data; boundary=-------------573cf973d5228
  ...else headers...
  ---------------573cf973d5228
  Content-Disposition: form-data; name="file"; filename="file.xml"
  Content-Type: application/xml
  {Content of XML file}

--------------

**Приклад тіла відповіді (json):**

.. code:: ruby

  {doc_uuid: 3698b501-e1ef-464d-a71a-58066f556114}

, де doc_uuid - унікальний ідентифікатор документа на платформі EDIN 2.0







