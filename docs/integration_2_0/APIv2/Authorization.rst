######################
**Авторизація**
######################

Після підключення послуги для роботи з API, користувач отримує логін, пароль і api_key для авторизації.
Авторизація API відбувається за допомогою передачі цих ключових параметрів в HTTP POST запиті:

- email - рядок; логін користувача;
- password - рядок, пароль користувача на платформі EDIN 2.0

Після авторизації відбувається передача в унікального ключа сесії "SID". В кожному наступному запиті (виклику методу) повинен бути присутнім HTTP-заголовок (Header) "Cookie", який для коректного виконання запитів повинен містити токен "SID" зі значенням, отриманим при авторизації.

Тривалість сесії при бездіяльності користувача становить 20 хвилин (мається на увазі, що ключ буде видалено через 20 хвилин, якщо користувач не буде активним (не буде відправляти HTTP запити)).

+------------------+-------------------------------------------------------------------+
| **Метод запиту** |                           **HTTP POST**                           |
+==================+===================================================================+
| **Content-Type** | тіло HTTP запиту в форматі application/x-www-form-urlencoded      |
+------------------+-------------------------------------------------------------------+
| **URL запиту**   | https://edo-v2.edi-n.com/api/authorization/hash                   |
+------------------+-------------------------------------------------------------------+

**JSON-параметри в тілі HTTP запиту/відповіді**
*******************************************************************

``REQUEST``

В тілі **запиту** передаються дані для авторизації:

- email - рядок; логін користувача;
- password - рядок, пароль користувача на платформі EDIN 2.0

``RESPONSE``

У **відповідь** в json-форматі передається "ключ сесії" (наприклад,``"SID": "65daca25-74ba-4c85-8183-71b404a348c0"`` ), необхідний для подальшої роботи.

--------------

**Приклади**
*****************

Приклад тіла **запиту**:

.. code:: ruby

  email=EDSsender&password=12345

--------------

Приклад тіла **відповіді** в json-форматі: 

.. code:: ruby

  {"SID": "65daca25-74ba-4c85-8183-71b404a348c0"}

--------------

Перевірки
==========

Доступні методи для перевірки активності сесії та сервера:

**Перевірка активності сервера (метод не потребує проходження авторизації):**

+------------------+-------------------------------+
| **Метод запиту** |           HTTP GET            |
+==================+===============================+
| **URL запиту**   | https://edo-v2.edi-n.com/ping |
+------------------+-------------------------------+

.. hint:: Також можливо виконати запит у вигляді curl-рядка:
    curl -X GET 'https://edo-v2.edi-n.com/ping'

**Перевірка активності сесії:**

+--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+
|                       **Метод запиту**                       |                                               HTTP GET                                                |
+==============================================================+=======================================================================================================+
| **URL запиту**                                               | https://edo-v2.edi-n.com/api/auth_check                                                               |
+--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+
| **Параметри, що передаються в URL (разом з адресою методу)** | У рядку заголовка (Header) "Cookie" обов'язково передається **SID** - токен отриманий при авторизації |
+--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+

.. hint:: Також можливо виконати запит у вигляді curl-рядка:
    curl -X GET 'https://edo-v2.edi-n.com/api/auth_check' -b 'SID=65daca25-74ba-4c85-8183-71b404a348c0;'



